<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
use    <title>Advanced Network Zone and Purdue Level Classification Tool</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
            padding-bottom: 50px;
        }
        .header {
            background: linear-gradient(135deg, #0d6efd, #0dcaf0);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        .card-header {
            border-radius: 10px 10px 0 0 !important;
            font-weight: 600;
        }
        .form-check {
            margin-bottom: 0.8rem;
            padding-left: 2rem;
        }
        .form-check-input {
            cursor: pointer;
        }
        .form-check-input:checked {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }
        .form-check-label {
            cursor: pointer;
        }
        .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }
        .btn-primary:hover {
            background-color: #0b5ed7;
            border-color: #0a58ca;
        }
        .result-card {
            border-left: 5px solid #0d6efd;
        }
        .progress {
            height: 10px;
            margin-bottom: 1rem;
        }
        .progress-bar {
            background-color: #0d6efd;
        }
        .level-indicator {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
            vertical-align: middle;
        }
        .level-0 { background-color: #FFD700; } /* Gold */
        .level-1 { background-color: #FF9800; } /* Orange */
        .level-2 { background-color: #4CAF50; } /* Green */
        .level-3 { background-color: #2196F3; } /* Blue */
        .level-3-5 { background-color: #9C27B0; } /* Purple */
        .level-4 { background-color: #F44336; } /* Red */
        .level-5 { background-color: #607D8B; } /* Blue Grey */

        .zone-mgmt { background-color: #E3F2FD; }
        .zone-enterprise { background-color: #FFF3E0; }
        .zone-ot { background-color: #E8F5E9; }
        .zone-operations { background-color: #FFEBEE; }
        .zone-security { background-color: #EDE7F6; }
        .zone-app-dmz { background-color: #FFF8E1; }
        .zone-field { background-color: #F3E5F5; }

        .badge {
            font-size: 0.8rem;
            padding: 0.4rem 0.6rem;
            margin-right: 0.3rem;
            margin-bottom: 0.3rem;
        }
        .badge-level-0 { background-color: #FFD700; color: #000; }
        .badge-level-1 { background-color: #FF9800; color: #000; }
        .badge-level-2 { background-color: #4CAF50; color: white; }
        .badge-level-3 { background-color: #2196F3; color: white; }
        .badge-level-3-5 { background-color: #9C27B0; color: white; }
        .badge-level-4 { background-color: #F44336; color: white; }
        .badge-level-5 { background-color: #607D8B; color: white; }

        .badge-zone-mgmt { background-color: #E3F2FD; color: #0d47a1; border: 1px solid #0d47a1; }
        .badge-zone-enterprise { background-color: #FFF3E0; color: #e65100; border: 1px solid #e65100; }
        .badge-zone-ot { background-color: #E8F5E9; color: #1b5e20; border: 1px solid #1b5e20; }
        .badge-zone-operations { background-color: #FFEBEE; color: #b71c1c; border: 1px solid #b71c1c; }
        .badge-zone-security { background-color: #EDE7F6; color: #4a148c; border: 1px solid #4a148c; }
        .badge-zone-app-dmz { background-color: #FFF8E1; color: #f57f17; border: 1px solid #f57f17; }
        .badge-zone-field { background-color: #F3E5F5; color: #4a148c; border: 1px solid #4a148c; }

        .suggestion-card {
            border-left: 5px solid #4CAF50;
        }

        .app-type-card {
            cursor: pointer;
            transition: all 0.3s;
        }
        .app-type-card:hover {
            background-color: #f8f9fa;
        }

        .sticky-top {
            top: 20px;
        }

        .tooltip-inner {
            max-width: 300px;
        }

        .nav-pills .nav-link.active {
            background-color: #0d6efd;
        }

        .nav-pills .nav-link {
            color: #0d6efd;
        }

        .tab-content {
            padding: 20px 0;
        }

        .form-floating {
            margin-bottom: 1rem;
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        .recommendation-strength {
            height: 5px;
            width: 100%;
            background-color: #e9ecef;
            margin-top: 5px;
        }

        .recommendation-strength-fill {
            height: 100%;
            background-color: #0d6efd;
        }

        .recommendation-strong .recommendation-strength-fill {
            width: 100%;
        }

        .recommendation-medium .recommendation-strength-fill {
            width: 66%;
        }

        .recommendation-weak .recommendation-strength-fill {
            width: 33%;
        }

        .app-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .quick-start-card {
            cursor: pointer;
            transition: all 0.3s;
        }

        .quick-start-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1 class="display-5 fw-bold">Advanced Network Zone &amp; Purdue Level Classification Tool</h1>
            <p class="lead">Determine the appropriate network zone, Purdue level, datacenter type, and site location for your applications, tools, and interfaces</p>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-3 mb-4">
                <div class="card sticky-top">
                    <div class="card-header bg-primary text-white">
                        Navigation
                    </div>
                    <div class="card-body">
                        <nav class="nav flex-column nav-pills">
                            <a class="nav-link active" href="#quick-start">Quick Start</a>
                            <a class="nav-link" href="#app-details">Application Details</a>
                            <a class="nav-link" href="#purdue-questions">Purdue Level Questions</a>
                            <a class="nav-link" href="#zone-questions">Network Zone Questions</a>
                            <a class="nav-link" href="#datacenter-questions">Datacenter Classification</a>
                            <a class="nav-link" href="#site-questions">Site Type Classification</a>
                            <a class="nav-link" href="#results">Results &amp; Recommendations</a>
                            <a class="nav-link" href="#common-apps">Common Application Types</a>
                            <a class="nav-link" href="#decision-flow">Decision Flow Chart</a>
                        </nav>
                    </div>
                </div>
            </div>

            <div class="col-md-9">
                <div id="quick-start" class="mb-5">
                    <h2 class="mb-4">Quick Start</h2>
                    <p>Select an application type to get started with pre-filled recommendations, or enter your application details manually.</p>

                    <div class="row row-cols-1 row-cols-md-3 g-4 mb-4">
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('hmi')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-success">
                                        <i class="bi bi-display"></i>
                                    </div>
                                    <h5 class="card-title">HMI</h5>
                                    <p class="card-text">Human-Machine Interface</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-2 me-1">Level 2</span>
                                        <span class="badge badge-zone-ot">OT Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('plc')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-warning">
                                        <i class="bi bi-cpu"></i>
                                    </div>
                                    <h5 class="card-title">PLC</h5>
                                    <p class="card-text">Programmable Logic Controller</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-1 me-1">Level 1</span>
                                        <span class="badge badge-zone-ot">OT Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('erp')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-danger">
                                        <i class="bi bi-building"></i>
                                    </div>
                                    <h5 class="card-title">ERP</h5>
                                    <p class="card-text">Enterprise Resource Planning</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-4 me-1">Level 4</span>
                                        <span class="badge badge-zone-enterprise">Enterprise Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('firewall')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-primary">
                                        <i class="bi bi-shield-lock"></i>
                                    </div>
                                    <h5 class="card-title">Firewall</h5>
                                    <p class="card-text">Firewall Management Interface</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3 me-1">Level 3</span>
                                        <span class="badge badge-zone-security">Security Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('scada')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-success">
                                        <i class="bi bi-graph-up"></i>
                                    </div>
                                    <h5 class="card-title">SCADA</h5>
                                    <p class="card-text">Supervisory Control and Data Acquisition</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-2 me-1">Level 2-3</span>
                                        <span class="badge badge-zone-operations">Operations Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('cloud')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-secondary">
                                        <i class="bi bi-cloud"></i>
                                    </div>
                                    <h5 class="card-title">Cloud Service</h5>
                                    <p class="card-text">External Cloud Application</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-5 me-1">Level 5</span>
                                        <span class="badge badge-zone-app-dmz">App DMZ</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Energy Sector Specific Applications -->
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('ems')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-primary">
                                        <i class="bi bi-lightning"></i>
                                    </div>
                                    <h5 class="card-title">EMS</h5>
                                    <p class="card-text">Energy Management System</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3 me-1">Level 3</span>
                                        <span class="badge badge-zone-operations">Operations Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('dms')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-warning">
                                        <i class="bi bi-diagram-3"></i>
                                    </div>
                                    <h5 class="card-title">DMS</h5>
                                    <p class="card-text">Distribution Management System</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3 me-1">Level 3</span>
                                        <span class="badge badge-zone-operations">Operations Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('smartmeter')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-success">
                                        <i class="bi bi-speedometer"></i>
                                    </div>
                                    <h5 class="card-title">Smart Meter</h5>
                                    <p class="card-text">Advanced Metering Infrastructure</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-1 me-1">Level 1</span>
                                        <span class="badge badge-zone-field">Field Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('relay')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-danger">
                                        <i class="bi bi-toggles"></i>
                                    </div>
                                    <h5 class="card-title">Protection Relay</h5>
                                    <p class="card-text">Substation Protection System</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-1 me-1">Level 1</span>
                                        <span class="badge badge-zone-ot">OT Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('trading')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-info">
                                        <i class="bi bi-graph-up-arrow"></i>
                                    </div>
                                    <h5 class="card-title">Energy Trading</h5>
                                    <p class="card-text">Energy Trading Platform</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-4 me-1">Level 4</span>
                                        <span class="badge badge-zone-enterprise">Enterprise Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Common Network Services -->
                    <div class="row row-cols-1 row-cols-md-3 g-4 mb-4">
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('itsm')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-primary">
                                        <i class="bi bi-gear-fill"></i>
                                    </div>
                                    <h5 class="card-title">ITSM</h5>
                                    <p class="card-text">IT Service Management</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-4 me-1">Level 4</span>
                                        <span class="badge badge-zone-mgmt">Management Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('servicenow')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-success">
                                        <i class="bi bi-ticket-detailed"></i>
                                    </div>
                                    <h5 class="card-title">ServiceNow</h5>
                                    <p class="card-text">Service Management Platform</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-4 me-1">Level 4</span>
                                        <span class="badge badge-zone-enterprise">Enterprise Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('dns')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-info">
                                        <i class="bi bi-globe"></i>
                                    </div>
                                    <h5 class="card-title">DNS</h5>
                                    <p class="card-text">Domain Name System</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3 me-1">Level 3</span>
                                        <span class="badge badge-zone-mgmt">Management Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('ipam')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-warning">
                                        <i class="bi bi-diagram-3"></i>
                                    </div>
                                    <h5 class="card-title">IPAM</h5>
                                    <p class="card-text">IP Address Management</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3 me-1">Level 3</span>
                                        <span class="badge badge-zone-mgmt">Management Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('dhcp')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-secondary">
                                        <i class="bi bi-hdd-network"></i>
                                    </div>
                                    <h5 class="card-title">DHCP</h5>
                                    <p class="card-text">Dynamic Host Configuration Protocol</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3 me-1">Level 3</span>
                                        <span class="badge badge-zone-mgmt">Management Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('ad')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-danger">
                                        <i class="bi bi-people"></i>
                                    </div>
                                    <h5 class="card-title">Active Directory</h5>
                                    <p class="card-text">Directory Service</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3.5 me-1">Level 3.5</span>
                                        <span class="badge badge-zone-security">Security Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="card h-100 quick-start-card" onclick="selectAppType('pam')">
                                <div class="card-body text-center">
                                    <div class="app-icon text-dark">
                                        <i class="bi bi-shield-lock"></i>
                                    </div>
                                    <h5 class="card-title">PAM</h5>
                                    <p class="card-text">Privileged Access Management</p>
                                    <div class="d-flex justify-content-center">
                                        <span class="badge badge-level-3.5 me-1">Level 3.5</span>
                                        <span class="badge badge-zone-security">Security Zone</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            Custom Application
                        </div>
                        <div class="card-body">
                            <p>Or enter your application details manually:</p>
                            <button class="btn btn-outline-primary" onclick="scrollToSection('app-details')">Start Manual Classification</button>
                        </div>
                    </div>
                </div>

                <div id="app-details" class="mb-5">
                    <h2 class="mb-4">Application Details</h2>
                    <div class="card">
                        <div class="card-body">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="app-name" placeholder="Application Name">
                                <label for="app-name">Application Name</label>
                            </div>
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" id="interface-name" placeholder="Interface Name">
                                <label for="interface-name">Interface Name</label>
                            </div>
                            <div class="form-floating mb-3">
                                <textarea class="form-control" id="app-description" style="height: 100px" placeholder="Brief description of the application and its purpose"></textarea>
                                <label for="app-description">Brief Description</label>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Primary Function</label>
                                <select class="form-select" id="primary-function">
                                    <option value="">Select primary function...</option>
                                    <option value="control">Control physical processes</option>
                                    <option value="monitor">Monitor industrial processes</option>
                                    <option value="operations">Manage operations</option>
                                    <option value="business">Handle business functions</option>
                                    <option value="security">Enforce security</option>
                                    <option value="external">Connect to external systems</option>
                                    <option value="energy">Energy generation/distribution</option>
                                    <option value="grid">Grid management</option>
                                    <option value="trading">Energy trading/market</option>
                                    <option value="compliance">Regulatory compliance</option>
                                    <option value="network">Network infrastructure</option>
                                    <option value="identity">Identity and access management</option>
                                    <option value="dns">DNS/DHCP services</option>
                                    <option value="monitoring">System monitoring</option>
                                    <option value="backup">Backup and recovery</option>
                                    <option value="database">Database services</option>
                                    <option value="storage">Storage services</option>
                                    <option value="virtualization">Virtualization platform</option>
                                    <option value="communication">Communication services</option>
                                    <option value="collaboration">Collaboration tools</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Primary Users</label>
                                <select class="form-select" id="primary-users">
                                    <option value="">Select primary users...</option>
                                    <option value="all">All Users (Organization-wide)</option>
                                    <option value="operators">Plant Operators</option>
                                    <option value="engineers">Engineers/Technicians</option>
                                    <option value="supervisors">Supervisors/Managers</option>
                                    <option value="business">Business Staff</option>
                                    <option value="it">IT Administrators</option>
                                    <option value="security">Security Personnel</option>
                                    <option value="external">External Users</option>
                                    <option value="grid">Grid Operators</option>
                                    <option value="traders">Energy Traders</option>
                                    <option value="compliance">Compliance Officers</option>
                                    <option value="field">Field Technicians</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" id="generate-suggestions-btn">Generate Smart Suggestions</button>
                        </div>
                    </div>

                    <div id="smart-suggestions" class="mt-4" style="display: none;">
                        <div class="card suggestion-card">
                            <div class="card-header bg-success text-white">
                                Smart Suggestions
                            </div>
                            <div class="card-body">
                                <p>Based on your application details, we suggest focusing on these areas:</p>
                                <div id="suggestion-content">
                                    <!-- Suggestions will be populated here -->
                                </div>
                                <button class="btn btn-outline-success mt-3" onclick="applySmartSuggestions()">Apply Suggestions</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="datacenter-questions" class="mb-5">
                    <h2 class="mb-4">Datacenter Classification</h2>

                    <div class="progress">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 0%;" id="datacenter-progress">0%</div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-info text-white">
                            Tertiary DC (Primary Control Hub)
                        </div>
                        <div class="card-body">
                            <p class="card-text">The Tertiary DC (Primary Control Hub) primarily hosts control systems and critical operational applications.</p>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="tertiary-1" id="datacenter-tertiary-1">
                                <label class="form-check-label" for="datacenter-tertiary-1">
                                    Is this application directly involved in controlling physical processes or equipment?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="tertiary-2" id="datacenter-tertiary-2">
                                <label class="form-check-label" for="datacenter-tertiary-2">
                                    Does the application require real-time or near-real-time response capabilities?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="tertiary-3" id="datacenter-tertiary-3">
                                <label class="form-check-label" for="datacenter-tertiary-3">
                                    Is this application critical for operational continuity (would operations be impacted if it went down)?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="tertiary-4" id="datacenter-tertiary-4">
                                <label class="form-check-label" for="datacenter-tertiary-4">
                                    Does this application need to be physically close to the systems it controls to minimize latency?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="tertiary-5" id="datacenter-tertiary-5">
                                <label class="form-check-label" for="datacenter-tertiary-5">
                                    Is this application part of the SCADA, DCS, or other industrial control system?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-secondary text-white">
                            Regular DC
                        </div>
                        <div class="card-body">
                            <p class="card-text">Regular Datacenters host business applications, analytics, and non-critical operational systems.</p>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="regular-1" id="datacenter-regular-1">
                                <label class="form-check-label" for="datacenter-regular-1">
                                    Is this application primarily used for business functions rather than direct control?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="regular-2" id="datacenter-regular-2">
                                <label class="form-check-label" for="datacenter-regular-2">
                                    Does the application handle historical data analysis rather than real-time control?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="regular-3" id="datacenter-regular-3">
                                <label class="form-check-label" for="datacenter-regular-3">
                                    Can this application tolerate higher latency (&gt;100ms) without significant impact?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="regular-4" id="datacenter-regular-4">
                                <label class="form-check-label" for="datacenter-regular-4">
                                    Is this application used primarily by business staff rather than operators?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input datacenter-check" type="checkbox" value="regular-5" id="datacenter-regular-5">
                                <label class="form-check-label" for="datacenter-regular-5">
                                    Does this application need to connect to external systems or the internet?
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="site-questions" class="mb-5">
                    <h2 class="mb-4">Site Type Classification</h2>

                    <div class="progress">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 0%;" id="site-progress">0%</div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-success text-white">
                            Industrial Sites
                        </div>
                        <div class="card-body">
                            <p class="card-text">Industrial sites include manufacturing plants, power generation facilities, and other production environments.</p>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="industrial-1" id="site-industrial-1">
                                <label class="form-check-label" for="site-industrial-1">
                                    Is this application used directly in a production or manufacturing environment?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="industrial-2" id="site-industrial-2">
                                <label class="form-check-label" for="site-industrial-2">
                                    Does the application interface with industrial machinery or equipment?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="industrial-3" id="site-industrial-3">
                                <label class="form-check-label" for="site-industrial-3">
                                    Is this application used by plant operators or maintenance personnel?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            Enterprise Sites
                        </div>
                        <div class="card-body">
                            <p class="card-text">Enterprise sites include corporate headquarters and major business centers.</p>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="enterprise-1" id="site-enterprise-1">
                                <label class="form-check-label" for="site-enterprise-1">
                                    Is this application primarily used for business operations?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="enterprise-2" id="site-enterprise-2">
                                <label class="form-check-label" for="site-enterprise-2">
                                    Does the application handle financial, HR, or other corporate functions?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="enterprise-3" id="site-enterprise-3">
                                <label class="form-check-label" for="site-enterprise-3">
                                    Is this application used by executives or business staff?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-warning text-dark">
                            Corporate Sites
                        </div>
                        <div class="card-body">
                            <p class="card-text">Corporate sites include regional offices and administrative centers.</p>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="corporate-1" id="site-corporate-1">
                                <label class="form-check-label" for="site-corporate-1">
                                    Is this application used for regional business operations?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="corporate-2" id="site-corporate-2">
                                <label class="form-check-label" for="site-corporate-2">
                                    Does the application support administrative functions?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="corporate-3" id="site-corporate-3">
                                <label class="form-check-label" for="site-corporate-3">
                                    Is this application used by regional managers or administrative staff?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-danger text-white">
                            Branch Sites
                        </div>
                        <div class="card-body">
                            <p class="card-text">Branch sites include small offices, retail locations, and field sites.</p>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="branch-1" id="site-branch-1">
                                <label class="form-check-label" for="site-branch-1">
                                    Is this application used in small offices or field locations?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="branch-2" id="site-branch-2">
                                <label class="form-check-label" for="site-branch-2">
                                    Does the application need to function with limited connectivity?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input site-check" type="checkbox" value="branch-3" id="site-branch-3">
                                <label class="form-check-label" for="site-branch-3">
                                    Is this application used by field staff or local employees?
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="results" class="mb-5">
                    <h2 class="mb-4">Results &amp; Recommendations</h2>
                    <div class="card result-card">
                        <div class="card-header bg-primary text-white">
                            Classification Results
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Purdue Level Recommendation</h5>
                                    <div id="purdue-result" class="mt-3">
                                        <p class="text-muted">Complete the assessment to see recommendations</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h5>Network Zone Recommendation</h5>
                                    <div id="zone-result" class="mt-3">
                                        <p class="text-muted">Complete the assessment to see recommendations</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-4">
                                <div class="col-md-6">
                                    <h5>Datacenter Recommendation</h5>
                                    <div id="datacenter-result" class="mt-3">
                                        <p class="text-muted">Complete the assessment to see recommendations</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h5>Site Type Recommendation</h5>
                                    <div id="site-result" class="mt-3">
                                        <p class="text-muted">Complete the assessment to see recommendations</p>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4">
                                <h5>Security Considerations</h5>
                                <div id="security-considerations">
                                    <p class="text-muted">Complete the assessment to see security recommendations</p>
                                </div>
                            </div>

                            <div class="mt-4">
                                <h5>Implementation Guidance</h5>
                                <div id="implementation-guidance">
                                    <p class="text-muted">Complete the assessment to see implementation guidance</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="common-apps" class="mb-5">
                    <h2 class="mb-4">Common Application Types</h2>
                    <div class="card">
                        <div class="card-header bg-info text-white">
                            Reference Guide
                        </div>
                        <div class="card-body">
                            <h5>Industrial Control Systems</h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Application Type</th>
                                            <th>Typical Purdue Level</th>
                                            <th>Common Zones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>HMI (Human-Machine Interface)</td>
                                            <td>Level 2</td>
                                            <td>OT, Operations</td>
                                        </tr>
                                        <tr>
                                            <td>PLC (Programmable Logic Controller)</td>
                                            <td>Level 1</td>
                                            <td>OT, Field</td>
                                        </tr>
                                        <tr>
                                            <td>DCS (Distributed Control System)</td>
                                            <td>Level 1-2</td>
                                            <td>OT, Operations</td>
                                        </tr>
                                        <tr>
                                            <td>SCADA (Supervisory Control and Data Acquisition)</td>
                                            <td>Level 2-3</td>
                                            <td>OT, Operations, Management</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h5 class="mt-4">IT Systems</h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Application Type</th>
                                            <th>Typical Purdue Level</th>
                                            <th>Common Zones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>ERP (Enterprise Resource Planning)</td>
                                            <td>Level 4</td>
                                            <td>Enterprise, Operations</td>
                                        </tr>
                                        <tr>
                                            <td>MES (Manufacturing Execution System)</td>
                                            <td>Level 3</td>
                                            <td>Operations, OT</td>
                                        </tr>
                                        <tr>
                                            <td>Historian</td>
                                            <td>Level 3</td>
                                            <td>OT, Operations</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h5 class="mt-4">Security Systems</h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Application Type</th>
                                            <th>Typical Purdue Level</th>
                                            <th>Common Zones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Firewall Management Interface</td>
                                            <td>Level 3</td>
                                            <td>Management, Security</td>
                                        </tr>
                                        <tr>
                                            <td>SIEM (Security Information and Event Management)</td>
                                            <td>Level 3-4</td>
                                            <td>Security, Management</td>
                                        </tr>
                                        <tr>
                                            <td>Identity Management</td>
                                            <td>Level 3-4</td>
                                            <td>Security, Management, Enterprise</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h5 class="mt-4">Network Infrastructure Services</h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Application Type</th>
                                            <th>Typical Purdue Level</th>
                                            <th>Common Zones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>ITSM (IT Service Management)</td>
                                            <td>Level 4</td>
                                            <td>Management, Enterprise</td>
                                        </tr>
                                        <tr>
                                            <td>ServiceNow</td>
                                            <td>Level 4</td>
                                            <td>Enterprise, Management</td>
                                        </tr>
                                        <tr>
                                            <td>DNS (Domain Name System)</td>
                                            <td>Level 3</td>
                                            <td>Management</td>
                                        </tr>
                                        <tr>
                                            <td>IPAM (IP Address Management)</td>
                                            <td>Level 3</td>
                                            <td>Management</td>
                                        </tr>
                                        <tr>
                                            <td>DHCP (Dynamic Host Configuration Protocol)</td>
                                            <td>Level 3</td>
                                            <td>Management</td>
                                        </tr>
                                        <tr>
                                            <td>Active Directory</td>
                                            <td>Level 3.5</td>
                                            <td>Security, Management</td>
                                        </tr>
                                        <tr>
                                            <td>PAM (Privileged Access Management)</td>
                                            <td>Level 3.5</td>
                                            <td>Security, Management</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h5 class="mt-4">Energy Sector Applications</h5>
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Application Type</th>
                                            <th>Typical Purdue Level</th>
                                            <th>Common Zones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>EMS (Energy Management System)</td>
                                            <td>Level 3</td>
                                            <td>Operations, OT</td>
                                        </tr>
                                        <tr>
                                            <td>DMS (Distribution Management System)</td>
                                            <td>Level 3</td>
                                            <td>Operations, OT</td>
                                        </tr>
                                        <tr>
                                            <td>OMS (Outage Management System)</td>
                                            <td>Level 3</td>
                                            <td>Operations, OT</td>
                                        </tr>
                                        <tr>
                                            <td>Smart Grid Components</td>
                                            <td>Level 1-2</td>
                                            <td>OT, Field</td>
                                        </tr>
                                        <tr>
                                            <td>Smart Meters / AMI</td>
                                            <td>Level 1</td>
                                            <td>Field, OT</td>
                                        </tr>
                                        <tr>
                                            <td>Renewable Energy Monitoring</td>
                                            <td>Level 2-3</td>
                                            <td>OT, Operations</td>
                                        </tr>
                                        <tr>
                                            <td>Protection Relays</td>
                                            <td>Level 1</td>
                                            <td>OT, Field</td>
                                        </tr>
                                        <tr>
                                            <td>Substation Automation</td>
                                            <td>Level 1-2</td>
                                            <td>OT, Field</td>
                                        </tr>
                                        <tr>
                                            <td>Energy Trading Platform</td>
                                            <td>Level 4</td>
                                            <td>Enterprise</td>
                                        </tr>
                                        <tr>
                                            <td>Load Forecasting Tools</td>
                                            <td>Level 3-4</td>
                                            <td>Operations, Enterprise</td>
                                        </tr>
                                        <tr>
                                            <td>Regulatory Compliance Systems</td>
                                            <td>Level 4</td>
                                            <td>Enterprise, Security</td>
                                        </tr>
                                        <tr>
                                            <td>Grid Analytics Platform</td>
                                            <td>Level 3-4</td>
                                            <td>Operations, Enterprise</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="purdue-questions" class="mb-5">
                    <h2 class="mb-4">Purdue Level Assessment</h2>

                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: 0%;" id="purdue-progress">0%</div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-warning text-dark">
                            Level 0 - Process (Field) Level
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="0-1" id="purdue-0-1">
                                <label class="form-check-label" for="purdue-0-1">
                                    Does the interface directly connect to or control physical equipment (sensors, actuators, valves, motors)?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="0-2" id="purdue-0-2">
                                <label class="form-check-label" for="purdue-0-2">
                                    Is the interface part of a device that directly measures physical processes?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="0-3" id="purdue-0-3">
                                <label class="form-check-label" for="purdue-0-3">
                                    Does the interface handle raw input/output signals from industrial equipment?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="0-4" id="purdue-0-4">
                                <label class="form-check-label" for="purdue-0-4">
                                    Is the interface located on the factory floor or in direct contact with the manufacturing process?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-orange text-dark" style="background-color: #FF9800;">
                            Level 1 - Basic Control Level
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="1-1" id="purdue-1-1">
                                <label class="form-check-label" for="purdue-1-1">
                                    Does the interface belong to a PLC, RTU, or other basic control device?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="1-2" id="purdue-1-2">
                                <label class="form-check-label" for="purdue-1-2">
                                    Is the interface responsible for direct, real-time control of industrial processes?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="1-3" id="purdue-1-3">
                                <label class="form-check-label" for="purdue-1-3">
                                    Does the interface run control logic that directly affects physical processes?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="1-4" id="purdue-1-4">
                                <label class="form-check-label" for="purdue-1-4">
                                    Is the interface part of a system with millisecond-level response requirements?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-success text-white">
                            Level 2 - Area Control Level
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="2-1" id="purdue-2-1">
                                <label class="form-check-label" for="purdue-2-1">
                                    Does the interface belong to a supervisory control system (SCADA, HMI)?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="2-2" id="purdue-2-2">
                                <label class="form-check-label" for="purdue-2-2">
                                    Does the interface monitor or manage multiple Level 1 devices?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="2-3" id="purdue-2-3">
                                <label class="form-check-label" for="purdue-2-3">
                                    Is the interface used by operators to view or control industrial processes?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="2-4" id="purdue-2-4">
                                <label class="form-check-label" for="purdue-2-4">
                                    Does the interface handle area-specific control functions or visualization?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="2-5" id="purdue-2-5">
                                <label class="form-check-label" for="purdue-2-5">
                                    Is the interface part of a system that coordinates multiple basic controllers?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            Level 3 - Site Operations Level
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3-1" id="purdue-3-1">
                                <label class="form-check-label" for="purdue-3-1">
                                    Does the interface belong to a site-wide management system?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3-2" id="purdue-3-2">
                                <label class="form-check-label" for="purdue-3-2">
                                    Is the interface used for production scheduling, maintenance management, or quality assurance?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3-3" id="purdue-3-3">
                                <label class="form-check-label" for="purdue-3-3">
                                    Does the interface handle historical data collection or reporting?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3-4" id="purdue-3-4">
                                <label class="form-check-label" for="purdue-3-4">
                                    Is the interface part of a manufacturing execution system (MES)?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3-5" id="purdue-3-5">
                                <label class="form-check-label" for="purdue-3-5">
                                    Does the interface manage workflows across multiple areas of a facility?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3-6" id="purdue-3-6">
                                <label class="form-check-label" for="purdue-3-6">
                                    Is the interface used primarily by supervisors or managers rather than operators?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-white" style="background-color: #9C27B0;">
                            Level 3.5 - DMZ/Industrial DMZ
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3.5-1" id="purdue-3.5-1">
                                <label class="form-check-label" for="purdue-3.5-1">
                                    Does the interface serve as a secure gateway between IT and OT networks?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3.5-2" id="purdue-3.5-2">
                                <label class="form-check-label" for="purdue-3.5-2">
                                    Is the interface part of a data diode, jump server, or secure transfer system?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3.5-3" id="purdue-3.5-3">
                                <label class="form-check-label" for="purdue-3.5-3">
                                    Does the interface handle data exchange between business and industrial systems?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3.5-4" id="purdue-3.5-4">
                                <label class="form-check-label" for="purdue-3.5-4">
                                    Is the interface designed specifically to enforce security boundaries?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="3.5-5" id="purdue-3.5-5">
                                <label class="form-check-label" for="purdue-3.5-5">
                                    Does the interface provide controlled access between different security zones?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header bg-danger text-white">
                            Level 4 - Business Planning Level
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="4-1" id="purdue-4-1">
                                <label class="form-check-label" for="purdue-4-1">
                                    Does the interface belong to an enterprise resource planning (ERP) system?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="4-2" id="purdue-4-2">
                                <label class="form-check-label" for="purdue-4-2">
                                    Is the interface used for business logistics, inventory management, or order processing?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="4-3" id="purdue-4-3">
                                <label class="form-check-label" for="purdue-4-3">
                                    Does the interface handle business-level decision making?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="4-4" id="purdue-4-4">
                                <label class="form-check-label" for="purdue-4-4">
                                    Is the interface primarily concerned with business operations rather than industrial processes?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="4-5" id="purdue-4-5">
                                <label class="form-check-label" for="purdue-4-5">
                                    Does the interface connect to financial systems or customer data?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-white" style="background-color: #607D8B;">
                            Level 5 - Enterprise Level
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="5-1" id="purdue-5-1">
                                <label class="form-check-label" for="purdue-5-1">
                                    Does the interface connect to external networks or the internet?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="5-2" id="purdue-5-2">
                                <label class="form-check-label" for="purdue-5-2">
                                    Is the interface part of a cloud service or external data sharing system?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="5-3" id="purdue-5-3">
                                <label class="form-check-label" for="purdue-5-3">
                                    Does the interface handle enterprise-wide functions across multiple sites?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="5-4" id="purdue-5-4">
                                <label class="form-check-label" for="purdue-5-4">
                                    Is the interface used for corporate-level decision making or reporting?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input purdue-check" type="checkbox" value="5-5" id="purdue-5-5">
                                <label class="form-check-label" for="purdue-5-5">
                                    Does the interface connect to third-party services or partners?
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="zone-questions" class="mb-5">
                    <h2 class="mb-4">Network Zone Assessment</h2>

                    <div class="progress">
                        <div class="progress-bar" role="progressbar" style="width: 0%;" id="zone-progress">0%</div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-primary" style="background-color: #E3F2FD;">
                            Management Zone
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="mgmt-1" id="zone-mgmt-1">
                                <label class="form-check-label" for="zone-mgmt-1">
                                    Is the interface used for administrative access to systems?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="mgmt-2" id="zone-mgmt-2">
                                <label class="form-check-label" for="zone-mgmt-2">
                                    Does the interface provide configuration, monitoring, or management capabilities?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="mgmt-3" id="zone-mgmt-3">
                                <label class="form-check-label" for="zone-mgmt-3">
                                    Is the interface used by IT or OT administrators rather than regular users?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="mgmt-4" id="zone-mgmt-4">
                                <label class="form-check-label" for="zone-mgmt-4">
                                    Does the interface require privileged access?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="mgmt-5" id="zone-mgmt-5">
                                <label class="form-check-label" for="zone-mgmt-5">
                                    Is the interface used for system health monitoring or maintenance?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-orange" style="background-color: #FFF3E0; color: #E65100;">
                            Enterprise Zone
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="enterprise-1" id="zone-enterprise-1">
                                <label class="form-check-label" for="zone-enterprise-1">
                                    Is the interface part of a business system (ERP, CRM, etc.)?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="enterprise-2" id="zone-enterprise-2">
                                <label class="form-check-label" for="zone-enterprise-2">
                                    Does the interface handle business data rather than operational data?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="enterprise-3" id="zone-enterprise-3">
                                <label class="form-check-label" for="zone-enterprise-3">
                                    Is the interface used by office staff or business personnel?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="enterprise-4" id="zone-enterprise-4">
                                <label class="form-check-label" for="zone-enterprise-4">
                                    Does the interface connect to corporate networks?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="enterprise-5" id="zone-enterprise-5">
                                <label class="form-check-label" for="zone-enterprise-5">
                                    Is the interface involved in business processes rather than industrial processes?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-success" style="background-color: #E8F5E9;">
                            OT (Operational Technology) Zone
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="ot-1" id="zone-ot-1">
                                <label class="form-check-label" for="zone-ot-1">
                                    Is the interface part of an industrial control system?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="ot-2" id="zone-ot-2">
                                <label class="form-check-label" for="zone-ot-2">
                                    Does the interface handle data related to physical processes?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="ot-3" id="zone-ot-3">
                                <label class="form-check-label" for="zone-ot-3">
                                    Is the interface used by plant operators or engineers?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="ot-4" id="zone-ot-4">
                                <label class="form-check-label" for="zone-ot-4">
                                    Does the interface require real-time or near-real-time operation?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="ot-5" id="zone-ot-5">
                                <label class="form-check-label" for="zone-ot-5">
                                    Is the interface critical to the operation of industrial equipment?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-danger" style="background-color: #FFEBEE;">
                            Operations Zone
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="operations-1" id="zone-operations-1">
                                <label class="form-check-label" for="zone-operations-1">
                                    Is the interface used for day-to-day operational activities?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="operations-2" id="zone-operations-2">
                                <label class="form-check-label" for="zone-operations-2">
                                    Does the interface handle workflow management or operational scheduling?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="operations-3" id="zone-operations-3">
                                <label class="form-check-label" for="zone-operations-3">
                                    Is the interface used by operational staff rather than management?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="operations-4" id="zone-operations-4">
                                <label class="form-check-label" for="zone-operations-4">
                                    Does the interface coordinate activities across multiple systems?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="operations-5" id="zone-operations-5">
                                <label class="form-check-label" for="zone-operations-5">
                                    Is the interface involved in executing operational plans?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-purple" style="background-color: #EDE7F6; color: #4A148C;">
                            Security Zone
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="security-1" id="zone-security-1">
                                <label class="form-check-label" for="zone-security-1">
                                    Is the interface part of a security system (firewall, IDS/IPS, SIEM)?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="security-2" id="zone-security-2">
                                <label class="form-check-label" for="zone-security-2">
                                    Does the interface handle security monitoring, logging, or incident response?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="security-3" id="zone-security-3">
                                <label class="form-check-label" for="zone-security-3">
                                    Is the interface used by security personnel?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="security-4" id="zone-security-4">
                                <label class="form-check-label" for="zone-security-4">
                                    Does the interface enforce security policies or access controls?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="security-5" id="zone-security-5">
                                <label class="form-check-label" for="zone-security-5">
                                    Is the interface designed to protect other systems or data?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-amber" style="background-color: #FFF8E1; color: #F57F17;">
                            App DMZ (Demilitarized Zone)
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="app-dmz-1" id="zone-app-dmz-1">
                                <label class="form-check-label" for="zone-app-dmz-1">
                                    Is the interface exposed to external networks or users?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="app-dmz-2" id="zone-app-dmz-2">
                                <label class="form-check-label" for="zone-app-dmz-2">
                                    Does the interface serve as a buffer between internal and external systems?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="app-dmz-3" id="zone-app-dmz-3">
                                <label class="form-check-label" for="zone-app-dmz-3">
                                    Is the interface part of a web application or public-facing service?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="app-dmz-4" id="zone-app-dmz-4">
                                <label class="form-check-label" for="zone-app-dmz-4">
                                    Does the interface handle data exchange with external entities?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="app-dmz-5" id="zone-app-dmz-5">
                                <label class="form-check-label" for="zone-app-dmz-5">
                                    Is the interface designed with extra security controls due to its exposure?
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card mb-4">
                        <div class="card-header text-purple" style="background-color: #F3E5F5; color: #4A148C;">
                            Field Zone
                        </div>
                        <div class="card-body">
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="field-1" id="zone-field-1">
                                <label class="form-check-label" for="zone-field-1">
                                    Is the interface located in or directly connected to the industrial environment?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="field-2" id="zone-field-2">
                                <label class="form-check-label" for="zone-field-2">
                                    Does the interface handle raw sensor data or control signals?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="field-3" id="zone-field-3">
                                <label class="form-check-label" for="zone-field-3">
                                    Is the interface part of field equipment or instrumentation?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="field-4" id="zone-field-4">
                                <label class="form-check-label" for="zone-field-4">
                                    Does the interface operate in harsh environmental conditions?
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input zone-check" type="checkbox" value="field-5" id="zone-field-5">
                                <label class="form-check-label" for="zone-field-5">
                                    Is the interface physically located on the factory floor or in the process area?
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="decision-flow" class="mb-5">
                    <h2 class="mb-4">Decision Flow Chart</h2>
                    <div class="card">
                        <div class="card-header bg-primary text-white">
                            Classification Decision Process
                        </div>
                        <div class="card-body">
                            <div class="mb-4">
                                <h5>1. Identify the primary function of the application/interface</h5>
                                <ul class="list-group">
                                    <li class="list-group-item">Control physical processes → Likely Level 0-2</li>
                                    <li class="list-group-item">Manage operations → Likely Level 3</li>
                                    <li class="list-group-item">Handle business functions → Likely Level 4-5</li>
                                </ul>
                            </div>

                            <div class="mb-4">
                                <h5>2. Determine the criticality to operations</h5>
                                <ul class="list-group">
                                    <li class="list-group-item">Critical to safety or continuous operation → Likely OT or Field Zone</li>
                                    <li class="list-group-item">Important for coordination → Likely Operations Zone</li>
                                    <li class="list-group-item">Administrative or business function → Likely Enterprise or Management Zone</li>
                                </ul>
                            </div>

                            <div class="mb-4">
                                <h5>3. Assess security requirements</h5>
                                <ul class="list-group">
                                    <li class="list-group-item">Handles sensitive data or enforces security → Security Zone</li>
                                    <li class="list-group-item">Interfaces between different security domains → App DMZ or Level 3.5</li>
                                    <li class="list-group-item">Requires strict access control → Management Zone</li>
                                </ul>
                            </div>

                            <div class="mb-4">
                                <h5>4. Consider user roles</h5>
                                <ul class="list-group">
                                    <li class="list-group-item">Used by operators → OT Zone, Level 1-2</li>
                                    <li class="list-group-item">Used by engineers/technicians → Management Zone, Level 3</li>
                                    <li class="list-group-item">Used by business staff → Enterprise Zone, Level 4-5</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Application type templates
        const appTemplates = {
            'hmi': {
                name: 'Human-Machine Interface (HMI)',
                interface: 'Operator Interface',
                description: 'Interface used by operators to monitor and control industrial processes',
                function: 'monitor',
                users: 'operators',
                purdueLevel: 2,
                zones: ['ot', 'operations']
            },
            'plc': {
                name: 'Programmable Logic Controller (PLC)',
                interface: 'Control Interface',
                description: 'Device that controls industrial equipment and processes',
                function: 'control',
                users: 'engineers',
                purdueLevel: 1,
                zones: ['ot', 'field']
            },
            'erp': {
                name: 'Enterprise Resource Planning (ERP)',
                interface: 'Business Management Interface',
                description: 'System for managing business operations and resources',
                function: 'business',
                users: 'business',
                purdueLevel: 4,
                zones: ['enterprise']
            },
            'firewall': {
                name: 'Firewall Management',
                interface: 'Security Management Interface',
                description: 'Interface for configuring and monitoring network security policies',
                function: 'security',
                users: 'security',
                purdueLevel: 3,
                zones: ['management', 'security']
            },
            'scada': {
                name: 'SCADA System',
                interface: 'Supervisory Control Interface',
                description: 'System for monitoring and controlling industrial processes across multiple sites',
                function: 'monitor',
                users: 'supervisors',
                purdueLevel: 2.5,
                zones: ['operations', 'ot']
            },
            'cloud': {
                name: 'Cloud Service',
                interface: 'External API Interface',
                description: 'Cloud-based service that connects to external networks',
                function: 'external',
                users: 'external',
                purdueLevel: 5,
                zones: ['app-dmz']
            },
            // Energy Sector Specific Applications
            'ems': {
                name: 'Energy Management System (EMS)',
                interface: 'Control Center Interface',
                description: 'System for monitoring and controlling power generation and transmission',
                function: 'operations',
                users: 'supervisors',
                purdueLevel: 3,
                zones: ['operations', 'ot']
            },
            'dms': {
                name: 'Distribution Management System (DMS)',
                interface: 'Distribution Network Interface',
                description: 'System for monitoring and managing power distribution networks',
                function: 'operations',
                users: 'supervisors',
                purdueLevel: 3,
                zones: ['operations', 'ot']
            },

            // Common Network Services
            'itsm': {
                name: 'IT Service Management (ITSM)',
                interface: 'Service Management Interface',
                description: 'System for managing IT services, incidents, and service requests',
                function: 'business',
                users: 'it_staff',
                purdueLevel: 4,
                zones: ['enterprise', 'management']
            },
            'servicenow': {
                name: 'ServiceNow',
                interface: 'Service Portal Interface',
                description: 'Enterprise service management platform for IT workflows and automation',
                function: 'business',
                users: 'it_staff',
                purdueLevel: 4,
                zones: ['enterprise', 'management']
            },
            'dns': {
                name: 'DNS (Domain Name System)',
                interface: 'Name Resolution Interface',
                description: 'System that translates domain names to IP addresses',
                function: 'operations',
                users: 'administrators',
                purdueLevel: 3.5,
                zones: ['management']
            },
            'ipam': {
                name: 'IP Address Management (IPAM)',
                interface: 'IP Management Interface',
                description: 'System for managing IP address space and allocation',
                function: 'operations',
                users: 'administrators',
                purdueLevel: 3,
                zones: ['management']
            },
            'dhcp': {
                name: 'DHCP (Dynamic Host Configuration Protocol)',
                interface: 'IP Assignment Interface',
                description: 'Service that automatically assigns IP addresses to devices',
                function: 'operations',
                users: 'administrators',
                purdueLevel: 3,
                zones: ['management']
            },
            'ad': {
                name: 'Active Directory (AD)',
                interface: 'Directory Services Interface',
                description: 'Directory service for user authentication and authorization',
                function: 'security',
                users: 'administrators',
                purdueLevel: 3.5,
                zones: ['management', 'enterprise']
            },
            'pam': {
                name: 'Privileged Access Management (PAM)',
                interface: 'Access Control Interface',
                description: 'System for managing privileged accounts and access',
                function: 'security',
                users: 'security',
                purdueLevel: 3,
                zones: ['security', 'management']
            },
            'dms': {
                name: 'Distribution Management System (DMS)',
                interface: 'Distribution Network Interface',
                description: 'System for monitoring and managing power distribution networks',
                function: 'operations',
                users: 'supervisors',
                purdueLevel: 3,
                zones: ['operations', 'ot']
            },
            'smartmeter': {
                name: 'Smart Meter / AMI',
                interface: 'Metering Interface',
                description: 'Advanced metering infrastructure for energy consumption monitoring',
                function: 'control',
                users: 'operators',
                purdueLevel: 1,
                zones: ['field', 'ot']
            },
            'relay': {
                name: 'Protection Relay',
                interface: 'Protection Interface',
                description: 'System for protecting electrical power systems from faults',
                function: 'control',
                users: 'engineers',
                purdueLevel: 1,
                zones: ['ot', 'field']
            },
            'trading': {
                name: 'Energy Trading Platform',
                interface: 'Trading Interface',
                description: 'System for buying and selling energy in wholesale markets',
                function: 'business',
                users: 'business',
                purdueLevel: 4,
                zones: ['enterprise']
            },
            'oms': {
                name: 'Outage Management System (OMS)',
                interface: 'Outage Management Interface',
                description: 'System for managing and responding to power outages',
                function: 'operations',
                users: 'supervisors',
                purdueLevel: 3,
                zones: ['operations', 'ot']
            },
            'smartgrid': {
                name: 'Smart Grid Components',
                interface: 'Grid Control Interface',
                description: 'Intelligent components for modern power grid management',
                function: 'control',
                users: 'engineers',
                purdueLevel: 1.5,
                zones: ['ot', 'field']
            },
            'renewable': {
                name: 'Renewable Energy Monitoring',
                interface: 'Renewable Asset Interface',
                description: 'System for monitoring and managing renewable energy sources',
                function: 'monitor',
                users: 'operators',
                purdueLevel: 2.5,
                zones: ['ot', 'operations']
            },
            'substation': {
                name: 'Substation Automation',
                interface: 'Substation Control Interface',
                description: 'System for automating electrical substation operations',
                function: 'control',
                users: 'engineers',
                purdueLevel: 1.5,
                zones: ['ot', 'field']
            },
            'loadforecast': {
                name: 'Load Forecasting Tools',
                interface: 'Forecasting Interface',
                description: 'System for predicting energy demand and load patterns',
                function: 'operations',
                users: 'supervisors',
                purdueLevel: 3.5,
                zones: ['operations', 'enterprise']
            },
            'compliance': {
                name: 'Regulatory Compliance System',
                interface: 'Compliance Interface',
                description: 'System for managing regulatory requirements in the energy sector',
                function: 'business',
                users: 'business',
                purdueLevel: 4,
                zones: ['enterprise', 'security']
            },
            'gridanalytics': {
                name: 'Grid Analytics Platform',
                interface: 'Analytics Interface',
                description: 'System for analyzing grid performance and optimization',
                function: 'operations',
                users: 'engineers',
                purdueLevel: 3.5,
                zones: ['operations', 'enterprise']
            }
        };

        // Function to select an application type template
        function selectAppType(type) {
            const template = appTemplates[type];
            if (!template) return;

            // Fill in application details
            document.getElementById('app-name').value = template.name;
            document.getElementById('interface-name').value = template.interface;
            document.getElementById('app-description').value = template.description;
            document.getElementById('primary-function').value = template.function;
            document.getElementById('primary-users').value = template.users;

            // Generate suggestions based on the template
            generateSmartSuggestions();

            // Scroll to app details section
            scrollToSection('app-details');
        }

        // Function to scroll to a section
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            } else {
                console.log('Section not found:', sectionId);
            }
        }

        // Function to generate smart suggestions based on application details
        function generateSmartSuggestions() {
            console.log('Generate Smart Suggestions function called');
            try {
                const appName = document.querySelector('input[devinid="109"]').value;
                const interfaceName = document.querySelector('input[devinid="110"]').value;
                const primaryFunction = document.querySelector('select[devinid="112"]').value;
                const primaryUsers = document.querySelector('select[devinid="113"]').value;

                if (!appName) {
                    alert('Please enter at least an application name');
                    return;
                }

                let suggestions = '';
                let purdueLevel = '';
                let zones = [];

                // Determine likely Purdue level based on function
                if (primaryFunction === 'control') {
                    purdueLevel = '0-1';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the control function, this application likely belongs to <span class="badge badge-level-1">Level 0-1</span> (Process/Basic Control).</p>`;
                    zones.push('ot', 'field');
                } else if (primaryFunction === 'monitor') {
                    purdueLevel = '2';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the monitoring function, this application likely belongs to <span class="badge badge-level-2">Level 2</span> (Area Control).</p>`;
                    zones.push('ot', 'operations');
                } else if (primaryFunction === 'operations') {
                    purdueLevel = '3';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the operations management function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> (Site Operations).</p>`;
                    zones.push('operations', 'management');
                } else if (primaryFunction === 'business') {
                    purdueLevel = '4';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the business function, this application likely belongs to <span class="badge badge-level-4">Level 4</span> (Business Planning).</p>`;
                    zones.push('enterprise');
                } else if (primaryFunction === 'security') {
                    purdueLevel = '3-3.5';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the security function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> or <span class="badge badge-level-3-5">Level 3.5</span> (Site Operations/DMZ).</p>`;
                    zones.push('security', 'management');
                } else if (primaryFunction === 'external') {
                    purdueLevel = '5';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the external connectivity function, this application likely belongs to <span class="badge badge-level-5">Level 5</span> (Enterprise).</p>`;
                    zones.push('app-dmz', 'enterprise');
                } else if (primaryFunction === 'network') {
                    purdueLevel = '3';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the network infrastructure function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> (Site Operations).</p>`;
                    zones.push('management');
                } else if (primaryFunction === 'identity') {
                    purdueLevel = '3.5';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the identity and access management function, this application likely belongs to <span class="badge badge-level-3-5">Level 3.5</span> (DMZ).</p>`;
                    zones.push('security', 'management');
                } else if (primaryFunction === 'dns') {
                    purdueLevel = '3';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the DNS/DHCP services function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> (Site Operations).</p>`;
                    zones.push('management');
                } else if (primaryFunction === 'monitoring') {
                    purdueLevel = '3';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the system monitoring function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> (Site Operations).</p>`;
                    zones.push('management', 'operations');
                } else if (primaryFunction === 'backup') {
                    purdueLevel = '3';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the backup and recovery function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> (Site Operations).</p>`;
                    zones.push('management');
                } else if (primaryFunction === 'database') {
                    purdueLevel = '3-4';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the database services function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> or <span class="badge badge-level-4">Level 4</span> depending on data type.</p>`;
                    zones.push('management', 'enterprise');
                } else if (primaryFunction === 'storage') {
                    purdueLevel = '3';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the storage services function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> (Site Operations).</p>`;
                    zones.push('management');
                } else if (primaryFunction === 'virtualization') {
                    purdueLevel = '3';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the virtualization platform function, this application likely belongs to <span class="badge badge-level-3">Level 3</span> (Site Operations).</p>`;
                    zones.push('management');
                } else if (primaryFunction === 'communication') {
                    purdueLevel = '3.5';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the communication services function, this application likely belongs to <span class="badge badge-level-3-5">Level 3.5</span> (DMZ).</p>`;
                    zones.push('management', 'enterprise');
                } else if (primaryFunction === 'collaboration') {
                    purdueLevel = '4';
                    suggestions += `<p><strong>Purdue Level:</strong> Based on the collaboration tools function, this application likely belongs to <span class="badge badge-level-4">Level 4</span> (Business Planning).</p>`;
                    zones.push('enterprise');
                }

            // Determine likely zones based on users
            if (primaryUsers === 'all') {
                suggestions += `<p><strong>Network Zone:</strong> Based on organization-wide usage, this application likely belongs to the <span class="badge badge-zone-app-dmz">App DMZ</span> or <span class="badge badge-zone-mgmt">Management Zone</span> with proper access controls.</p>`;
                if (!zones.includes('app-dmz')) zones.push('app-dmz');
                if (!zones.includes('management')) zones.push('management');

                // For applications used by everyone, recommend Purdue level 3.5 (DMZ)
                if (purdueLevel === '') {
                    purdueLevel = '3.5';
                    suggestions = `<p><strong>Purdue Level:</strong> Based on organization-wide usage, this application likely belongs to <span class="badge badge-level-3-5">Level 3.5</span> (DMZ).</p>` + suggestions;
                }
            } else if (primaryUsers === 'operators') {
                suggestions += `<p><strong>Network Zone:</strong> Based on operator users, this application likely belongs to the <span class="badge badge-zone-ot">OT Zone</span>.</p>`;
                if (!zones.includes('ot')) zones.push('ot');
            } else if (primaryUsers === 'engineers') {
                suggestions += `<p><strong>Network Zone:</strong> Based on engineer/technician users, this application likely belongs to the <span class="badge badge-zone-mgmt">Management Zone</span> or <span class="badge badge-zone-ot">OT Zone</span>.</p>`;
                if (!zones.includes('management')) zones.push('management');
            } else if (primaryUsers === 'supervisors') {
                suggestions += `<p><strong>Network Zone:</strong> Based on supervisor/manager users, this application likely belongs to the <span class="badge badge-zone-operations">Operations Zone</span>.</p>`;
                if (!zones.includes('operations')) zones.push('operations');
            } else if (primaryUsers === 'business') {
                suggestions += `<p><strong>Network Zone:</strong> Based on business staff users, this application likely belongs to the <span class="badge badge-zone-enterprise">Enterprise Zone</span>.</p>`;
                if (!zones.includes('enterprise')) zones.push('enterprise');
            } else if (primaryUsers === 'it') {
                suggestions += `<p><strong>Network Zone:</strong> Based on IT administrator users, this application likely belongs to the <span class="badge badge-zone-mgmt">Management Zone</span>.</p>`;
                if (!zones.includes('management')) zones.push('management');
            } else if (primaryUsers === 'security') {
                suggestions += `<p><strong>Network Zone:</strong> Based on security personnel users, this application likely belongs to the <span class="badge badge-zone-security">Security Zone</span>.</p>`;
                if (!zones.includes('security')) zones.push('security');
            } else if (primaryUsers === 'external') {
                suggestions += `<p><strong>Network Zone:</strong> Based on external users, this application likely belongs to the <span class="badge badge-zone-app-dmz">App DMZ</span>.</p>`;
                if (!zones.includes('app-dmz')) zones.push('app-dmz');
            }

            // Add security considerations
            suggestions += `<p><strong>Security Considerations:</strong> `;
            if (zones.includes('ot') || zones.includes('field')) {
                suggestions += `This application may handle critical operational data. Consider strict access controls and network segmentation.`;
            } else if (zones.includes('enterprise') || zones.includes('app-dmz')) {
                suggestions += `This application may be exposed to external threats. Consider implementing defense-in-depth strategies.`;
            } else if (zones.includes('security')) {
                suggestions += `This application handles sensitive security functions. Ensure proper authentication and authorization mechanisms.`;
            } else {
                suggestions += `Implement appropriate access controls and monitoring based on the sensitivity of the data handled.`;
            }
            suggestions += `</p>`;

            // Display suggestions
            const suggestionContent = document.querySelector('#suggestion-content');
            if (suggestionContent) {
                suggestionContent.innerHTML = suggestions;
                document.querySelector('#smart-suggestions').style.display = 'block';
            } else {
                alert('Error: Could not find suggestion-content element');
            }

            // Update results
            updateResults(purdueLevel, zones);
        } catch (error) {
            console.error('Error generating smart suggestions:', error);
            alert('An error occurred while generating suggestions. Please try again.');
        }
        }

        // Function to apply smart suggestions
        function applySmartSuggestions() {
            // This would pre-check the appropriate checkboxes in the assessment
            alert('Smart suggestions applied! Continue with the detailed assessment to refine your results.');
            // Scroll to the Purdue questions section
            const element = document.getElementById('purdue-questions');
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }
        
        // Function to scroll to a section by ID
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            } else {
                console.error('Section not found:', sectionId);
            }
        }

        // Function to update results
        function updateResults(purdueLevel, zones, datacenterType, siteType) {
            let purdueResult = '';
            let zoneResult = '';
            let datacenterResult = '';
            let siteResult = '';
            let securityConsiderations = '';
            let implementationGuidance = '';

            // Purdue level result
            if (purdueLevel) {
                purdueResult = `<div class="d-flex align-items-center">`;

                if (purdueLevel === '0-1') {
                    purdueResult += `<div class="level-indicator level-0"></div>
                                    <div>
                                        <strong>Level 0-1 (Process/Basic Control)</strong>
                                        <p>This interface directly interacts with or controls physical processes.</p>
                                    </div>`;
                    securityConsiderations += `<p>For Level 0-1 interfaces, physical security is critical. Ensure that access to these systems is strictly controlled.</p>`;
                    implementationGuidance += `<p>Implement air-gapping or unidirectional gateways where possible. Use industrial protocols with security extensions.</p>`;
                } else if (purdueLevel === '2') {
                    purdueResult += `<div class="level-indicator level-2"></div>
                                    <div>
                                        <strong>Level 2 (Area Control)</strong>
                                        <p>This interface provides supervisory control and monitoring capabilities.</p>
                                    </div>`;
                    securityConsiderations += `<p>For Level 2 interfaces, ensure proper authentication and authorization mechanisms. Monitor for unusual command patterns.</p>`;
                    implementationGuidance += `<p>Implement role-based access control and logging of all control actions. Consider HMI hardening guidelines.</p>`;
                } else if (purdueLevel === '3') {
                    purdueResult += `<div class="level-indicator level-3"></div>
                                    <div>
                                        <strong>Level 3 (Site Operations)</strong>
                                        <p>This interface manages site-wide operations and workflow.</p>
                                    </div>`;
                    securityConsiderations += `<p>For Level 3 interfaces, implement proper data validation and secure coding practices. Protect against lateral movement.</p>`;
                    implementationGuidance += `<p>Use secure development practices and regular security testing. Implement network segmentation between Level 3 and lower levels.</p>`;
                } else if (purdueLevel === '3-3.5') {
                    purdueResult += `<div class="level-indicator level-3-5"></div>
                                    <div>
                                        <strong>Level 3-3.5 (Site Operations/DMZ)</strong>
                                        <p>This interface bridges operational and business systems.</p>
                                    </div>`;
                    securityConsiderations += `<p>For Level 3-3.5 interfaces, implement strict data validation and filtering. Consider data diodes or unidirectional gateways.</p>`;
                    implementationGuidance += `<p>Implement application-layer firewalls and deep packet inspection. Consider implementing a DMZ architecture.</p>`;
                } else if (purdueLevel === '4') {
                    purdueResult += `<div class="level-indicator level-4"></div>
                                    <div>
                                        <strong>Level 4 (Business Planning)</strong>
                                        <p>This interface handles business planning and logistics.</p>
                                    </div>`;
                    securityConsiderations += `<p>For Level 4 interfaces, implement strong authentication and encryption. Protect sensitive business data.</p>`;
                    implementationGuidance += `<p>Use TLS for all communications and implement proper data classification and handling procedures.</p>`;
                } else if (purdueLevel === '5') {
                    purdueResult += `<div class="level-indicator level-5"></div>
                                    <div>
                                        <strong>Level 5 (Enterprise)</strong>
                                        <p>This interface connects to external networks or the internet.</p>
                                    </div>`;
                    securityConsiderations += `<p>For Level 5 interfaces, implement defense-in-depth strategies. Assume the interface will be targeted by attackers.</p>`;
                    implementationGuidance += `<p>Implement web application firewalls, regular penetration testing, and security monitoring.</p>`;
                }

                purdueResult += `</div>`;
            } else {
                purdueResult = `<p class="text-muted">Complete the assessment to see recommendations</p>`;
            }

            // Zone result
            if (zones && zones.length > 0) {
                zoneResult = `<div>`;

                zones.forEach(zone => {
                    if (zone === 'mgmt' || zone === 'management') {
                        zoneResult += `<span class="badge badge-zone-mgmt mb-2">Management Zone</span><br>`;
                    } else if (zone === 'enterprise') {
                        zoneResult += `<span class="badge badge-zone-enterprise mb-2">Enterprise Zone</span><br>`;
                    } else if (zone === 'ot') {
                        zoneResult += `<span class="badge badge-zone-ot mb-2">OT Zone</span><br>`;
                    } else if (zone === 'operations') {
                        zoneResult += `<span class="badge badge-zone-operations mb-2">Operations Zone</span><br>`;
                    } else if (zone === 'security') {
                        zoneResult += `<span class="badge badge-zone-security mb-2">Security Zone</span><br>`;
                    } else if (zone === 'app-dmz') {
                        zoneResult += `<span class="badge badge-zone-app-dmz mb-2">App DMZ</span><br>`;
                    } else if (zone === 'field') {
                        zoneResult += `<span class="badge badge-zone-field mb-2">Field Zone</span><br>`;
                    }
                });

                zoneResult += `<p class="mt-2">This interface should be placed in the zone(s) listed above based on its function and users.</p>`;
                zoneResult += `</div>`;
            } else {
                zoneResult = `<p class="text-muted">Complete the assessment to see recommendations</p>`;
            }

            // Datacenter result
            if (datacenterType) {
                datacenterResult = `<div class="d-flex align-items-center">`;

                if (datacenterType === 'tertiary') {
                    datacenterResult += `<div class="level-indicator bg-info"></div>
                                        <div>
                                            <strong>Tertiary DC (Primary Control Hub)</strong>
                                            <p>This application should be hosted in the Tertiary DC due to its critical control functions or real-time requirements.</p>
                                        </div>`;
                    securityConsiderations += `<p>For applications in the Tertiary DC, implement strict access controls and continuous monitoring. Consider redundancy for high availability.</p>`;
                    implementationGuidance += `<p>Deploy with low-latency connections to controlled systems. Implement backup and failover mechanisms.</p>`;
                } else if (datacenterType === 'regular') {
                    datacenterResult += `<div class="level-indicator bg-secondary"></div>
                                        <div>
                                            <strong>Regular DC</strong>
                                            <p>This application can be hosted in a Regular DC as it primarily handles business or non-critical operational functions.</p>
                                        </div>`;
                    securityConsiderations += `<p>For applications in Regular DCs, implement standard security controls and ensure proper data classification.</p>`;
                    implementationGuidance += `<p>Consider cloud hosting options and implement appropriate backup and disaster recovery procedures.</p>`;
                }

                datacenterResult += `</div>`;
            } else {
                datacenterResult = `<p class="text-muted">Complete the assessment to see recommendations</p>`;
            }

            // Site type result
            if (siteType) {
                siteResult = `<div class="d-flex align-items-center">`;

                if (siteType === 'industrial') {
                    siteResult += `<div class="level-indicator bg-success"></div>
                                  <div>
                                      <strong>Industrial Site</strong>
                                      <p>This application is best suited for deployment at industrial sites such as manufacturing plants or production facilities.</p>
                                  </div>`;
                    securityConsiderations += `<p>For industrial site applications, consider harsh environment requirements and physical security controls.</p>`;
                } else if (siteType === 'enterprise') {
                    siteResult += `<div class="level-indicator bg-primary"></div>
                                  <div>
                                      <strong>Enterprise Site</strong>
                                      <p>This application is best suited for deployment at enterprise sites such as corporate headquarters or major business centers.</p>
                                  </div>`;
                    securityConsiderations += `<p>For enterprise site applications, implement strong data protection and access controls for sensitive business information.</p>`;
                } else if (siteType === 'corporate') {
                    siteResult += `<div class="level-indicator bg-warning"></div>
                                  <div>
                                      <strong>Corporate Site</strong>
                                      <p>This application is best suited for deployment at corporate sites such as regional offices or administrative centers.</p>
                                  </div>`;
                    securityConsiderations += `<p>For corporate site applications, ensure proper integration with enterprise systems and appropriate access controls.</p>`;
                } else if (siteType === 'branch') {
                    siteResult += `<div class="level-indicator bg-danger"></div>
                                  <div>
                                      <strong>Branch Site</strong>
                                      <p>This application is best suited for deployment at branch sites such as small offices, retail locations, or field sites.</p>
                                  </div>`;
                    securityConsiderations += `<p>For branch site applications, consider limited connectivity scenarios and implement appropriate caching mechanisms.</p>`;
                }

                siteResult += `</div>`;
            } else {
                siteResult = `<p class="text-muted">Complete the assessment to see recommendations</p>`;
            }

            // Update the results sections
            document.getElementById('purdue-result').innerHTML = purdueResult;
            document.getElementById('zone-result').innerHTML = zoneResult;
            document.getElementById('datacenter-result').innerHTML = datacenterResult;
            document.getElementById('site-result').innerHTML = siteResult;

            if (securityConsiderations) {
                document.getElementById('security-considerations').innerHTML = securityConsiderations;
            }

            if (implementationGuidance) {
                document.getElementById('implementation-guidance').innerHTML = implementationGuidance;
            }
        }

        // Function to update progress bars
        function updateProgressBars() {
            // Update Purdue level progress
            const purdueChecks = document.querySelectorAll('.purdue-check');
            const purdueChecked = document.querySelectorAll('.purdue-check:checked');
            const purdueProgress = Math.round((purdueChecked.length / purdueChecks.length) * 100);
            document.getElementById('purdue-progress').style.width = purdueProgress + '%';
            document.getElementById('purdue-progress').textContent = purdueProgress + '%';

            // Update Zone progress
            const zoneChecks = document.querySelectorAll('.zone-check');
            const zoneChecked = document.querySelectorAll('.zone-check:checked');
            const zoneProgress = Math.round((zoneChecked.length / zoneChecks.length) * 100);
            document.getElementById('zone-progress').style.width = zoneProgress + '%';
            document.getElementById('zone-progress').textContent = zoneProgress + '%';

            // Update Datacenter progress
            const datacenterChecks = document.querySelectorAll('.datacenter-check');
            const datacenterChecked = document.querySelectorAll('.datacenter-check:checked');
            const datacenterProgress = Math.round((datacenterChecked.length / datacenterChecks.length) * 100);
            document.getElementById('datacenter-progress').style.width = datacenterProgress + '%';
            document.getElementById('datacenter-progress').textContent = datacenterProgress + '%';

            // Update Site type progress
            const siteChecks = document.querySelectorAll('.site-check');
            const siteChecked = document.querySelectorAll('.site-check:checked');
            const siteProgress = Math.round((siteChecked.length / siteChecks.length) * 100);
            document.getElementById('site-progress').style.width = siteProgress + '%';
            document.getElementById('site-progress').textContent = siteProgress + '%';
        }

        // Function to determine datacenter type based on checkboxes
        function determineDatacenterType() {
            const tertiaryChecks = document.querySelectorAll('[id^="datacenter-tertiary-"]:checked').length;
            const regularChecks = document.querySelectorAll('[id^="datacenter-regular-"]:checked').length;

            // Calculate percentages
            const totalTertiary = document.querySelectorAll('[id^="datacenter-tertiary-"]').length;
            const totalRegular = document.querySelectorAll('[id^="datacenter-regular-"]').length;

            const tertiaryPercentage = (tertiaryChecks / totalTertiary) * 100;
            const regularPercentage = (regularChecks / totalRegular) * 100;

            // Determine datacenter type based on highest percentage
            if (tertiaryPercentage > regularPercentage && tertiaryPercentage > 40) {
                return 'tertiary';
            } else if (regularPercentage > tertiaryPercentage && regularPercentage > 40) {
                return 'regular';
            } else {
                return null;
            }
        }

        // Function to determine site type based on checkboxes
        function determineSiteType() {
            const industrialChecks = document.querySelectorAll('[id^="site-industrial-"]:checked').length;
            const enterpriseChecks = document.querySelectorAll('[id^="site-enterprise-"]:checked').length;
            const corporateChecks = document.querySelectorAll('[id^="site-corporate-"]:checked').length;
            const branchChecks = document.querySelectorAll('[id^="site-branch-"]:checked').length;

            // Calculate percentages
            const totalIndustrial = document.querySelectorAll('[id^="site-industrial-"]').length;
            const totalEnterprise = document.querySelectorAll('[id^="site-enterprise-"]').length;
            const totalCorporate = document.querySelectorAll('[id^="site-corporate-"]').length;
            const totalBranch = document.querySelectorAll('[id^="site-branch-"]').length;

            const industrialPercentage = (industrialChecks / totalIndustrial) * 100;
            const enterprisePercentage = (enterpriseChecks / totalEnterprise) * 100;
            const corporatePercentage = (corporateChecks / totalCorporate) * 100;
            const branchPercentage = (branchChecks / totalBranch) * 100;

            // Find the highest percentage
            const percentages = [
                { type: 'industrial', percentage: industrialPercentage },
                { type: 'enterprise', percentage: enterprisePercentage },
                { type: 'corporate', percentage: corporatePercentage },
                { type: 'branch', percentage: branchPercentage }
            ];

            percentages.sort((a, b) => b.percentage - a.percentage);

            // Return the site type with the highest percentage if it's above 40%
            if (percentages[0].percentage > 40) {
                return percentages[0].type;
            } else {
                return null;
            }
        }

        // Function to determine Purdue level based on checkboxes
        function determinePurdueLevel() {
            const level0Checks = document.querySelectorAll('[id^="purdue-0-"]:checked').length;
            const level1Checks = document.querySelectorAll('[id^="purdue-1-"]:checked').length;
            const level2Checks = document.querySelectorAll('[id^="purdue-2-"]:checked').length;
            const level3Checks = document.querySelectorAll('[id^="purdue-3-"]:checked').length;
            const level35Checks = document.querySelectorAll('[id^="purdue-3-5-"]:checked').length;
            const level4Checks = document.querySelectorAll('[id^="purdue-4-"]:checked').length;
            const level5Checks = document.querySelectorAll('[id^="purdue-5-"]:checked').length;

            // Calculate percentages
            const totalLevel0 = document.querySelectorAll('[id^="purdue-0-"]').length;
            const totalLevel1 = document.querySelectorAll('[id^="purdue-1-"]').length;
            const totalLevel2 = document.querySelectorAll('[id^="purdue-2-"]').length;
            const totalLevel3 = document.querySelectorAll('[id^="purdue-3-"]').length;
            const totalLevel35 = document.querySelectorAll('[id^="purdue-3-5-"]').length;
            const totalLevel4 = document.querySelectorAll('[id^="purdue-4-"]').length;
            const totalLevel5 = document.querySelectorAll('[id^="purdue-5-"]').length;

            const level0Percentage = (level0Checks / totalLevel0) * 100;
            const level1Percentage = (level1Checks / totalLevel1) * 100;
            const level2Percentage = (level2Checks / totalLevel2) * 100;
            const level3Percentage = (level3Checks / totalLevel3) * 100;
            const level35Percentage = (level35Checks / totalLevel35) * 100;
            const level4Percentage = (level4Checks / totalLevel4) * 100;
            const level5Percentage = (level5Checks / totalLevel5) * 100;

            // Find the highest percentage
            const percentages = [
                { level: '0-1', percentage: (level0Percentage + level1Percentage) / 2 },
                { level: '2', percentage: level2Percentage },
                { level: '3', percentage: level3Percentage },
                { level: '3-3.5', percentage: level35Percentage },
                { level: '4', percentage: level4Percentage },
                { level: '5', percentage: level5Percentage }
            ];

            percentages.sort((a, b) => b.percentage - a.percentage);

            // Return the Purdue level with the highest percentage if it's above 40%
            if (percentages[0].percentage > 40) {
                return percentages[0].level;
            } else {
                return null;
            }
        }

        // Function to determine network zones based on checkboxes
        function determineNetworkZones() {
            const zones = [];

            const mgmtChecks = document.querySelectorAll('[id^="zone-mgmt-"]:checked').length;
            const enterpriseChecks = document.querySelectorAll('[id^="zone-enterprise-"]:checked').length;
            const otChecks = document.querySelectorAll('[id^="zone-ot-"]:checked').length;
            const operationsChecks = document.querySelectorAll('[id^="zone-operations-"]:checked').length;
            const securityChecks = document.querySelectorAll('[id^="zone-security-"]:checked').length;
            const appDmzChecks = document.querySelectorAll('[id^="zone-app-dmz-"]:checked').length;
            const fieldChecks = document.querySelectorAll('[id^="zone-field-"]:checked').length;

            // Calculate percentages
            const totalMgmt = document.querySelectorAll('[id^="zone-mgmt-"]').length;
            const totalEnterprise = document.querySelectorAll('[id^="zone-enterprise-"]').length;
            const totalOt = document.querySelectorAll('[id^="zone-ot-"]').length;
            const totalOperations = document.querySelectorAll('[id^="zone-operations-"]').length;
            const totalSecurity = document.querySelectorAll('[id^="zone-security-"]').length;
            const totalAppDmz = document.querySelectorAll('[id^="zone-app-dmz-"]').length;
            const totalField = document.querySelectorAll('[id^="zone-field-"]').length;

            const mgmtPercentage = (mgmtChecks / totalMgmt) * 100;
            const enterprisePercentage = (enterpriseChecks / totalEnterprise) * 100;
            const otPercentage = (otChecks / totalOt) * 100;
            const operationsPercentage = (operationsChecks / totalOperations) * 100;
            const securityPercentage = (securityChecks / totalSecurity) * 100;
            const appDmzPercentage = (appDmzChecks / totalAppDmz) * 100;
            const fieldPercentage = (fieldChecks / totalField) * 100;

            // Add zones with percentage above 40%
            if (mgmtPercentage > 40) zones.push('management');
            if (enterprisePercentage > 40) zones.push('enterprise');
            if (otPercentage > 40) zones.push('ot');
            if (operationsPercentage > 40) zones.push('operations');
            if (securityPercentage > 40) zones.push('security');
            if (appDmzPercentage > 40) zones.push('app-dmz');
            if (fieldPercentage > 40) zones.push('field');

            return zones;
        }

        // Function to update assessment results based on checkboxes
        function updateAssessmentResults() {
            const purdueLevel = determinePurdueLevel();
            const zones = determineNetworkZones();
            const datacenterType = determineDatacenterType();
            const siteType = determineSiteType();

            updateResults(purdueLevel, zones, datacenterType, siteType);
        }

        // Initialize event listeners when the document is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners for all checkboxes
            document.querySelectorAll('.purdue-check, .zone-check, .datacenter-check, .site-check').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateProgressBars();
                    updateAssessmentResults();
                });
            });
            
            // Add event listener for Generate Smart Suggestions button
            document.getElementById('generate-suggestions-btn').addEventListener('click', generateSmartSuggestions);

            // Initialize progress bars
            updateProgressBars();
        });
    </script>
</body>
</html>
